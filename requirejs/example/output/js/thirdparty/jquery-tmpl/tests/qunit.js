(function(a){function u(a){var b="",c;for(var d=0;a[d];d++)c=a[d],c.nodeType===3||c.nodeType===4?b+=c.nodeValue:c.nodeType!==8&&(b+=u(c.childNodes));return b}function t(a){return typeof document!=="undefined"&&document&&document.getElementById&&document.getElementById(a)}function s(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):c()}function r(a,b){for(var c in b)a[c]=b[c];return a}function q(b,c,d){typeof console!=="undefined"&&console.error&&console.warn?(console.error(b),console.error(c),console.warn(d.toString())):a.opera&&opera.postError&&opera.postError(b,c,d.toString)}function p(a,b){var c=a.slice();for(var d=0;d<c.length;d++)for(var e=0;e<b.length;e++)if(c[d]===b[e]){c.splice(d,1),d--;break}return c}function o(a){var b=f.pollution;n();var c=p(b,f.pollution);c.length>0&&(ok(!1,"Introduced global variable(s): "+c.join(", ")),f.current.expected++);var d=p(f.pollution,b);d.length>0&&(ok(!1,"Deleted global variable(s): "+d.join(", ")),f.current.expected++)}function n(){f.pollution=[];if(f.noglobals)for(var b in a)f.pollution.push(b)}function m(){var b=(new Date).getTime();while(f.queue.length&&!f.blocking)if(f.updateRate<=0||(new Date).getTime()-b<f.updateRate)f.queue.shift()();else{a.setTimeout(m,13);break}!f.blocking&&!f.queue.length&&g()}function l(a){f.queue.push(a),f.autorun&&!f.blocking&&m()}function k(a){if(!a)return"";a=a+"";return a.replace(/[\&"<>\\]/g,function(a){switch(a){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return a}})}function j(a){return a&&t("qunit-filter-pass")&&t("qunit-filter-pass").checked?"none":""}function i(){try{throw new Error}catch(a){if(a.stacktrace)return a.stacktrace.split("\n")[6];if(a.stack)return a.stack.split("\n")[4]}}function h(a){var b=f.filters.length,c=!1;if(!b)return!0;while(b--){var d=f.filters[b],e=d.charAt(0)=="!";e&&(d=d.slice(1));if(a.indexOf(d)!==-1)return!e;e&&(c=!0)}return c}function g(){f.autorun=!0,f.currentModule&&e.moduleDone(f.currentModule,f.moduleStats.bad,f.moduleStats.all);var a=t("qunit-banner"),b=t("qunit-tests"),c=["Tests completed in ",+(new Date)-f.started," milliseconds.<br/>",'<span class="passed">',f.stats.all-f.stats.bad,'</span> tests of <span class="total">',f.stats.all,'</span> passed, <span class="failed">',f.stats.bad,"</span> failed."].join("");a&&(a.className=f.stats.bad?"qunit-fail":"qunit-pass");if(b){var d=t("qunit-testresult");d||(d=document.createElement("p"),d.id="qunit-testresult",d.className="result",b.parentNode.insertBefore(d,b.nextSibling)),d.innerHTML=c}e.done(f.stats.bad,f.stats.all)}var b={setTimeout:typeof a.setTimeout!=="undefined",sessionStorage:function(){try{return!!sessionStorage.getItem}catch(a){return!1}}()},c=0,d=function(a,b,c,d,e,f){this.name=a,this.testName=b,this.expected=c,this.testEnvironmentArg=d,this.async=e,this.callback=f,this.assertions=[]};d.prototype={init:function(){var a=t("qunit-tests");if(a){var b=document.createElement("strong");b.innerHTML="Running "+this.name;var d=document.createElement("li");d.appendChild(b),d.id=this.id="test-output"+c++,a.appendChild(d)}},setup:function(){this.module!=f.previousModule&&(this.previousModule&&e.moduleDone(this.module,f.moduleStats.bad,f.moduleStats.all),f.previousModule=this.module,f.moduleStats={all:0,bad:0},e.moduleStart(this.module,this.moduleTestEnvironment)),f.current=this,this.testEnvironment=r({setup:function(){},teardown:function(){}},this.moduleTestEnvironment),this.testEnvironmentArg&&r(this.testEnvironment,this.testEnvironmentArg),e.testStart(this.testName,this.testEnvironment),e.current_testEnvironment=this.testEnvironment;try{f.pollution||n(),this.testEnvironment.setup.call(this.testEnvironment)}catch(a){e.ok(!1,"Setup failed on "+this.name+": "+a.message)}},run:function(){this.async&&e.stop();try{this.callback.call(this.testEnvironment)}catch(a){q("Test "+this.name+" died, exception and test follows",a,this.callback),e.ok(!1,"Died on test #"+(this.assertions.length+1)+": "+a.message+" - "+e.jsDump.parse(a)),n(),f.blocking&&start()}},teardown:function(){try{o(),this.testEnvironment.teardown.call(this.testEnvironment)}catch(a){e.ok(!1,"Teardown failed on "+this.name+": "+a.message)}},finish:function(){this.expected&&this.expected!=this.assertions.length&&e.ok(!1,"Expected "+this.expected+" assertions, but "+this.assertions.length+" were run");var c=0,d=0,g=t("qunit-tests");f.stats.all+=this.assertions.length,f.moduleStats.all+=this.assertions.length;if(g){var h=document.createElement("ol");for(var i=0;i<this.assertions.length;i++){var k=this.assertions[i],l=document.createElement("li");l.className=k.result?"pass":"fail",l.innerHTML=k.message||(k.result?"okay":"failed"),h.appendChild(l),k.result?c++:(d++,f.stats.bad++,f.moduleStats.bad++)}b.sessionStorage&&sessionStorage.setItem("qunit-"+this.testName,d),d==0&&(h.style.display="none");var m=document.createElement("strong");m.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+d+"</b>, <b class='passed'>"+c+"</b>, "+this.assertions.length+")</b>",s(m,"click",function(){var a=m.nextSibling,b=a.style.display;a.style.display=b==="none"?"block":"none"}),s(m,"dblclick",function(b){var c=b&&b.target?b.target:a.event.srcElement;if(c.nodeName.toLowerCase()=="span"||c.nodeName.toLowerCase()=="b")c=c.parentNode;a.location&&c.nodeName.toLowerCase()==="strong"&&(a.location.search="?"+encodeURIComponent(u([c]).replace(/\(.+\)$/,"").replace(/(^\s*|\s*$)/g,"")))});var l=t(this.id);l.className=d?"fail":"pass",l.style.display=j(!d),l.removeChild(l.firstChild),l.appendChild(m),l.appendChild(h);if(d){var n=t("qunit-testrunner-toolbar");n&&(n.style.display="block",t("qunit-filter-pass").disabled=null)}}else for(var i=0;i<this.assertions.length;i++)this.assertions[i].result||(d++,f.stats.bad++,f.moduleStats.bad++);try{e.reset()}catch(o){q("reset() failed, following Test "+this.name+", exception and reset fn follows",o,e.reset)}e.testDone(this.testName,d,this.assertions.length)},queue:function(){function c(){l(function(){a.setup()}),l(function(){a.run()}),l(function(){a.teardown()}),l(function(){a.finish()})}var a=this;l(function(){a.init()});var d=b.sessionStorage&&+sessionStorage.getItem("qunit-"+this.testName);d?c():l(c)}};var e={module:function(a,b){f.previousModule=f.currentModule,f.currentModule=a,f.currentModuleTestEnviroment=b},asyncTest:function(a,b,c){arguments.length===2&&(c=b,b=0),e.test(a,b,c,!0)},test:function(a,b,c,e){var g='<span class="test-name">'+a+"</span>",i;arguments.length===2&&(c=b,b=null),b&&typeof b==="object"&&(i=b,b=null),f.currentModule&&(g='<span class="module-name">'+f.currentModule+"</span>: "+g);if(h(f.currentModule+": "+a)){var j=new d(g,a,b,i,e,c);j.previousModule=f.previousModule,j.module=f.currentModule,j.moduleTestEnvironment=f.currentModuleTestEnviroment,j.queue()}},expect:function(a){f.current.expected=a},ok:function(a,b){a=!!a;var c={result:a,message:b};b=k(b),e.log(a,b,c),f.current.assertions.push({result:a,message:b})},equal:function(a,b,c){e.push(b==a,a,b,c)},notEqual:function(a,b,c){e.push(b!=a,a,b,c)},deepEqual:function(a,b,c){e.push(e.equiv(a,b),a,b,c)},notDeepEqual:function(a,b,c){e.push(!e.equiv(a,b),a,b,c)},strictEqual:function(a,b,c){e.push(b===a,a,b,c)},notStrictEqual:function(a,b,c){e.push(b!==a,a,b,c)},raises:function(a,b,c){var d,f=!1;typeof b==="string"&&(c=b,b=null);try{a()}catch(g){d=g}d&&(b?e.objectType(b)==="regexp"?f=b.test(d):d instanceof b?f=!0:b.call({},d)===!0&&(f=!0):f=!0),e.ok(f,c)},start:function(){b.setTimeout?a.setTimeout(function(){f.timeout&&clearTimeout(f.timeout),f.blocking=!1,m()},13):(f.blocking=!1,m())},stop:function(c){f.blocking=!0,c&&b.setTimeout&&(f.timeout=a.setTimeout(function(){e.ok(!1,"Test timed out"),e.start()},c))}};e.equals=e.equal,e.same=e.deepEqual;var f={queue:[],blocking:!0};(function(){var b=a.location||{search:"",protocol:"file:"},c=b.search.slice(1).split("&");for(var d=0;d<c.length;d++)c[d]=decodeURIComponent(c[d]),c[d]==="noglobals"?(c.splice(d,1),d--,f.noglobals=!0):c[d].search("=")>-1&&(c.splice(d,1),d--);f.filters=c,e.isLocal=b.protocol==="file:"})(),typeof exports==="undefined"||typeof require==="undefined"?(r(a,e),a.QUnit=e):(r(exports,e),exports.QUnit=e),r(e,{config:f,init:function(){r(f,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+(new Date),updateRate:1e3,blocking:!1,autostart:!0,autorun:!1,filters:[],queue:[]});var a=t("qunit-tests"),b=t("qunit-banner"),c=t("qunit-testresult");a&&(a.innerHTML=""),b&&(b.className=""),c&&c.parentNode.removeChild(c)},reset:function(){if(a.jQuery)jQuery("#main, #qunit-fixture").html(f.fixture);else{var b=t("main")||t("qunit-fixture");b&&(b.innerHTML=f.fixture)}},triggerEvent:function(a,b,c){document.createEvent?(c=document.createEvent("MouseEvents"),c.initMouseEvent(b,!0,!0,a.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(c)):a.fireEvent&&a.fireEvent("on"+b)},is:function(a,b){return e.objectType(b)==a},objectType:function(a){if(typeof a==="undefined")return"undefined";if(a===null)return"null";var b=Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]||"";switch(b){case"Number":return isNaN(a)?"nan":"number";case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return b.toLowerCase()}if(typeof a==="object")return"object";return undefined},push:function(a,b,c,d){var g={result:a,message:d,actual:b,expected:c};d=k(d)||(a?"okay":"failed"),d='<span class="test-message">'+d+"</span>",c=k(e.jsDump.parse(c)),b=k(e.jsDump.parse(b));var h=d+'<table><tr class="test-expected"><th>Expected: </th><td><pre>'+c+"</pre></td></tr>";b!=c&&(h+='<tr class="test-actual"><th>Result: </th><td><pre>'+b+"</pre></td></tr>",h+='<tr class="test-diff"><th>Diff: </th><td><pre>'+e.diff(c,b)+"</pre></td></tr>");if(!a){var j=i();j&&(g.source=j,h+='<tr class="test-source"><th>Source: </th><td><pre>'+j+"</pre></td></tr>")}h+="</table>",e.log(a,d,g),f.current.assertions.push({result:!!a,message:h})},begin:function(){},done:function(a,b){},log:function(a,b){},testStart:function(a,b){},testDone:function(a,b,c){},moduleStart:function(a,b){},moduleDone:function(a,b,c){}});if(typeof document==="undefined"||document.readyState==="complete")f.autorun=!0;s(a,"load",function(){e.begin();var a=r({},f);e.init(),r(f,a),f.blocking=!1;var b=t("qunit-userAgent");b&&(b.innerHTML=navigator.userAgent);var c=t("qunit-header");if(c){var d=location.href.lastIndexOf(location.search);if(d>-1){var g=location.href.slice(0,d);if(g==location.href)c.innerHTML='<a href=""> '+c.innerHTML+"</a> ";else{var h=decodeURIComponent(location.search.slice(1));c.innerHTML='<a href="'+g+'">'+c.innerHTML+'</a> &#8250; <a href="">'+h+"</a>"}}}var i=t("qunit-testrunner-toolbar");if(i){i.style.display="none";var j=document.createElement("input");j.type="checkbox",j.id="qunit-filter-pass",j.disabled=!0,s(j,"click",function(){var a=document.getElementsByTagName("li");for(var b=0;b<a.length;b++)a[b].className.indexOf("pass")>-1&&(a[b].style.display=j.checked?"none":"")}),i.appendChild(j);var k=document.createElement("label");k.setAttribute("for","qunit-filter-pass"),k.innerHTML="Hide passed tests",i.appendChild(k)}var l=t("main")||t("qunit-fixture");l&&(f.fixture=l.innerHTML),f.autostart&&e.start()}),e.equiv=function(){function d(a,b,c){var d=e.objectType(a);if(d)return e.objectType(b[d])==="function"?b[d].apply(b,c):b[d]}var a,b=[],c=[],f=function(){function d(a,b){return a instanceof b.constructor||b instanceof a.constructor?b==a:b===a}return{string:d,"boolean":d,number:d,"null":d,"undefined":d,nan:function(a){return isNaN(a)},date:function(a,b){return e.objectType(a)==="date"&&b.valueOf()===a.valueOf()},regexp:function(a,b){return e.objectType(a)==="regexp"&&b.source===a.source&&b.global===a.global&&b.ignoreCase===a.ignoreCase&&b.multiline===a.multiline},"function":function(){var a=b[b.length-1];return a!==Object&&typeof a!=="undefined"},array:function(b,d){var f,g,h,i;if(e.objectType(b)!=="array")return!1;i=d.length;if(i!==b.length)return!1;c.push(d);for(f=0;f<i;f++){h=!1;for(g=0;g<c.length;g++)c[g]===d[f]&&(h=!0);if(!h&&!a(d[f],b[f])){c.pop();return!1}}c.pop();return!0},object:function(d,e){var f,g,h,i=!0,j=[],k=[];if(e.constructor!==d.constructor)return!1;b.push(e.constructor),c.push(e);for(f in e){h=!1;for(g=0;g<c.length;g++)c[g]===e[f]&&(h=!0);j.push(f);if(!h&&!a(e[f],d[f])){i=!1;break}}b.pop(),c.pop();for(f in d)k.push(f);return i&&a(j.sort(),k.sort())}}}();a=function(){var a=Array.prototype.slice.apply(arguments);if(a.length<2)return!0;return function(a,b){return a===b?!0:a===null||b===null||typeof a==="undefined"||typeof b==="undefined"||e.objectType(a)!==e.objectType(b)?!1:d(a,f,[b,a])}(a[0],a[1])&&arguments.callee.apply(this,a.splice(1,a.length-1))};return a}(),e.jsDump=function(){function d(a){var b=a.length,d=Array(b);this.up();while(b--)d[b]=this.parse(a[b]);this.down();return c("[",d,"]")}function c(a,b,c){var d=g.separator(),e=g.indent(),f=g.indent(1);b.join&&(b=b.join(","+d+f));if(!b)return a+c;return[a,f+b,e+c].join(d)}function b(a){return a+""}function a(a){return'"'+a.toString().replace(/"/g,'\\"')+'"'}var f=/^function (\w+)/,g={parse:function(a,b){var c=this.parsers[b||this.typeOf(a)];b=typeof c;return b=="function"?c.call(this,a):b=="string"?c:this.parsers.error},typeOf:function(a){var b;a===null?b="null":typeof a==="undefined"?b="undefined":e.is("RegExp",a)?b="regexp":e.is("Date",a)?b="date":e.is("Function",a)?b="function":typeof a.setInterval!==undefined&&typeof a.document!=="undefined"&&typeof a.nodeType==="undefined"?b="window":a.nodeType===9?b="document":a.nodeType?b="node":typeof a!=="object"||typeof a.length!=="number"||a.length<0?b=typeof a:b="array";return b},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(a){if(!this.multiline)return"";var b=this.indentChar;this.HTML&&(b=b.replace(/\t/g,"   ").replace(/ /g,"&nbsp;"));return Array(this._depth_+(a||0)).join(b)},up:function(a){this._depth_+=a||1},down:function(a){this._depth_-=a||1},setParser:function(a,b){this.parsers[a]=b},quote:a,literal:b,join:c,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(a){var b="function",d="name"in a?a.name:(f.exec(a)||[])[1];d&&(b+=" "+d),b+="(",b=[b,e.jsDump.parse(a,"functionArgs"),"){"].join("");return c(b,e.jsDump.parse(a,"functionCode"),"}")},array:d,nodelist:d,arguments:d,object:function(a){var b=[];e.jsDump.up();for(var d in a)b.push(e.jsDump.parse(d,"key")+": "+e.jsDump.parse(a[d]));e.jsDump.down();return c("{",b,"}")},node:function(a){var b=e.jsDump.HTML?"&lt;":"<",c=e.jsDump.HTML?"&gt;":">",d=a.nodeName.toLowerCase(),f=b+d;for(var g in e.jsDump.DOMAttrs){var h=a[e.jsDump.DOMAttrs[g]];h&&(f+=" "+g+"="+e.jsDump.parse(h,"attribute"))}return f+c+b+"/"+d+c},functionArgs:function(a){var b=a.length;if(!b)return"";var c=Array(b);while(b--)c[b]=String.fromCharCode(97+b);return" "+c.join(", ")+" "},key:a,functionCode:"[code]",attribute:a,string:a,date:a,regexp:b,number:b,"boolean":b},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",multiline:!0};return g}(),e.diff=function(){function a(a,b){var c=new Object,d=new Object;for(var e=0;e<b.length;e++)c[b[e]]==null&&(c[b[e]]={rows:[],o:null}),c[b[e]].rows.push(e);for(var e=0;e<a.length;e++)d[a[e]]==null&&(d[a[e]]={rows:[],n:null}),d[a[e]].rows.push(e);for(var e in c)c[e].rows.length==1&&typeof d[e]!="undefined"&&d[e].rows.length==1&&(b[c[e].rows[0]]={text:b[c[e].rows[0]],row:d[e].rows[0]},a[d[e].rows[0]]={text:a[d[e].rows[0]],row:c[e].rows[0]});for(var e=0;e<b.length-1;e++)b[e].text!=null&&b[e+1].text==null&&b[e].row+1<a.length&&a[b[e].row+1].text==null&&b[e+1]==a[b[e].row+1]&&(b[e+1]={text:b[e+1],row:b[e].row+1},a[b[e].row+1]={text:a[b[e].row+1],row:e+1});for(var e=b.length-1;e>0;e--)b[e].text!=null&&b[e-1].text==null&&b[e].row>0&&a[b[e].row-1].text==null&&b[e-1]==a[b[e].row-1]&&(b[e-1]={text:b[e-1],row:b[e].row-1},a[b[e].row-1]={text:a[b[e].row-1],row:e-1});return{o:a,n:b}}return function(b,c){b=b.replace(/\s+$/,""),c=c.replace(/\s+$/,"");var d=a(b==""?[]:b.split(/\s+/),c==""?[]:c.split(/\s+/)),e="",f=b.match(/\s+/g);f==null?f=[" "]:f.push(" ");var g=c.match(/\s+/g);g==null?g=[" "]:g.push(" ");if(d.n.length==0)for(var h=0;h<d.o.length;h++)e+="<del>"+d.o[h]+f[h]+"</del>";else{if(d.n[0].text==null)for(c=0;c<d.o.length&&d.o[c].text==null;c++)e+="<del>"+d.o[c]+f[c]+"</del>";for(var h=0;h<d.n.length;h++)if(d.n[h].text==null)e+="<ins>"+d.n[h]+g[h]+"</ins>";else{var i="";for(c=d.n[h].row+1;c<d.o.length&&d.o[c].text==null;c++)i+="<del>"+d.o[c]+f[c]+"</del>";e+=" "+d.n[h].text+g[h]+i}}return e}}()})(this)